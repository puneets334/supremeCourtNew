scutum.dashboard={},scutum.dashboard.init=function(){scutum.require(["d3","billboard"],function(){scutum.dashboard.charts.widgets(),scutum.dashboard.charts.traffic(),scutum.dashboard.charts.sellers()},!1),scutum.dashboard.memoryUsage(),scutum.dashboard.map(),scutum.dashboard.todo(),scutum.dashboard.reloadCard(),scutum.require(["flagsCSS"],function(){})},scutum.dashboard.charts={},scutum.dashboard.charts.widgets=function(){var t=$(".sc-js-chart-widget");if(t.length){var d={};t.each(function(t){var s,a=$(this),o=a.attr("data-chart-data"),e=["data"],r=$(this).attr("data-chart-color"),c=$(this).attr("data-chart-x"),u=["x"],n="MMMM";if(c){s=c.split(",");for(var i=1;i<s[1];i++)"-"===s[0]&&u.push(moment().subtract(i,s[2]).format("YYYY-MM-DD")),"+"===s[0]&&u.push(moment().add(i,s[2]).format("YYYY-MM-DD"));n="YYYY-MM-DD"}else u=["x","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01"];JSON.parse(o).forEach(function(t){e.push(t)}),d[t]=bb.generate({padding:{bottom:-10,left:-6,right:-5},data:{x:"x",columns:[u,e],type:"area"},legend:{show:!1},transition:{duration:0},point:{show:!1},axis:{y:{show:!1},x:{type:"timeseries",tick:{format:function(t){return moment(t).format(n)}},show:!1}},color:{pattern:[r]},bindto:a[0]}),scutum.helpers.sequenceShow.activate(a)}),scutum.$doc.on("sc-sidebar:toggle",function(){Object.keys(d).forEach(function(t){d[t].flush(!0)})})}},scutum.dashboard.charts.traffic=function(){var t=$(".sc-js-traffic-sources");if(t.length){bb.generate({data:{columns:[["Organic",30],["Referral",45],["Social",25]],type:"donut"},donut:{title:"Jan 2018",padAngle:.1},transition:{duration:0},legend:{position:"right"},color:{pattern:scutum.helpers.colors.blue},bindto:t[0]});scutum.helpers.sequenceShow.activate(t)}},scutum.dashboard.charts.sellers=function(){var t=$(".sc-js-best-sellers");t.length&&scutum.require(["accounting"],function(){bb.generate({data:{columns:[["Automotive",2640.72],["Books",4200],["Software",1651.43],["Toys",617.55],["Video Games",1231.94]],type:"pie"},donut:{title:"2017"},legend:{position:"right"},transition:{duration:0},pie:{label:{ratio:1.3},padding:2},tooltip:{format:{value:function(t,s,a){return accounting.formatMoney(t)}}},color:{pattern:scutum.helpers.colors.multi},bindto:t[0]});scutum.helpers.sequenceShow.activate(t)})},scutum.dashboard.map=function(){var a=$("#sc-js-map-visits");a.length&&scutum.require(["jqvmap"],function(){a.vectorMap({map:"world_en",backgroundColor:"#f5f5f5",borderOpacity:.25,color:"#BDBDBD",colors:{br:scutum.helpers.colors.blue[1],us:scutum.helpers.colors.blue[0],au:scutum.helpers.colors.blue[2],pl:scutum.helpers.colors.blue[3],cn:scutum.helpers.colors.blue[1]},hoverColor:"#424242",selectedColor:"#424242"});var s=null;$(".sc-js-map-table").find("[data-region]").on("mouseenter",function(){var t=$(this).attr("data-region");s&&a.vectorMap("unhighlight",s),a.vectorMap("highlight",t),s=t}).on("mouseout",function(){s&&a.vectorMap("unhighlight",s)})},!1)},scutum.dashboard.reloadCard=function(){$(".sc-js-card-reload").on("click",function(){var t=$(this);t.closest(".uk-card").hasClass("sc-card-minimized")||(scutum.cards.hideContent(t,!0),setTimeout(function(){scutum.cards.showContent(t,!0)},2e3))})},scutum.dashboard.memoryUsage=function(){var t=$(".sc-js-ram-usage");if(t.length){var s=t.find(".sc-progress-bar");setInterval(function(){s.css({width:Math.floor(100*Math.random())+15+"%"})},2e3)}},scutum.dashboard.todo=function(){var t=$(".sc-js-checklist");t.length&&t.each(function(){$(this).find("[data-sc-icheck]").each(function(){$(this).is(":checked")&&$(this).closest(".sc-list-group").addClass("sc-item-checked"),$(this).on("ifToggled",function(t){$(this).closest(".sc-list-group").toggleClass("sc-item-checked")})})})};