scutum.pages.mailbox={},scutum.pages.mailbox.init=function(){scutum.pages.mailbox.message.show(),scutum.pages.mailbox.message.close(),scutum.pages.mailbox.message.remove(),scutum.pages.mailbox.message.filter()},scutum.pages.mailbox.message={},scutum.pages.mailbox.message.show=function(){$(".sc-js-message-expand").find(".sc-message-card").each(function(){$(this).on("click",function(e){var s=scutum.$pageContent.find(".optiscroll-content").length?scutum.$pageContent.find(".optiscroll-content"):scutum.$pageContent;if(!$(e.target).closest(".sc-js-item-check").length&&!$(e.target).closest(".sc-message-actions").length){var t=$(this),c=t.outerHeight();if(t.hasClass("sc-message-expanded"))return;scutum.$pageContent.addClass("sc-page-overflow").css({"padding-right":scutum.helpers.scrollbar.width()}),scutum.helpers.overlay.add(s,!0,scutum.helpers.mq.mediumMax()?0:s.scrollTop()),scutum.helpers.mq.mediumMax()&&scutum.helpers.scrollbar.disable(!0),t.addClass("sc-message-expanded").velocity({top:s.scrollTop()+12,height:"100%"},{duration:560,easing:scutum.easingSwiftOut,begin:function(){t.closest("li").css({height:c,overflow:"hidden"}),scutum.helpers.hideDuringTransform(t,560,t.find(".sc-message-head")),t.find(".sc-js-el-hide").hide(),t.find(".sc-js-el-show").show().velocity("transition.slideUpBigIn",{stagger:280}),scutum.$pageWrapper.addClass("sc-message-single")}})}})})},scutum.pages.mailbox.message.close=function(){scutum.$doc.on("click",".sc-js-message-close",function(e){if(e.preventDefault(),console.log(!$(e.target).closest(".sc-js-item-check").length&&!$(e.target).closest(".sc-message-actions").length),!$(e.target).closest(".sc-js-item-check").length&&!$(e.target).closest(".sc-message-actions").length){var s=scutum.$pageContent.find(".optiscroll-content").length?scutum.$pageContent.find(".optiscroll-content"):scutum.$pageContent,t=$(".sc-message-card.sc-message-expanded");t.find(".sc-js-el-hide").show(),t.find(".sc-js-el-show").hide(),t.velocity("reverse",{begin:function(){scutum.$pageWrapper.removeClass("sc-message-single"),scutum.helpers.mq.mediumMax()&&scutum.helpers.scrollbar.enable(!0)},complete:function(){scutum.helpers.overlay.remove(s,!0),t.removeClass("sc-message-expanded").attr("style",""),setTimeout(function(){scutum.$pageContent.removeClass("sc-page-overflow").css({"padding-right":""}),t.closest("li").css({height:"",overflow:""})},320)}})}})},scutum.pages.mailbox.message.remove=function(){$(".sc-js-message-remove").on("click",function(e){e.preventDefault();var s=$(this).closest("li");s.velocity({translateX:"100%",opacity:0},{duration:280,easing:scutum.easingSwiftOut,complete:function(){s.remove()}})})},scutum.pages.mailbox.message.filter=function(){var e=scutum.$pageWrapper,s=UIkit.filter(e,{target:".sc-js-message-filter"});$(".sc-js-filter-clear").length&&scutum.$pageWrapper.on("afterFilter",function(){void 0===s.getState().filter[""]?e.removeClass("sc-filtered-items"):e.addClass("sc-filtered-items")}),$(".sc-js-offcanvas-filters").find("li").on("click",function(){var e=$(this).attr("data-uk-filter-control");$(".sc-js-offcanvas-filter").attr("data-uk-filter-control",e).click()})};