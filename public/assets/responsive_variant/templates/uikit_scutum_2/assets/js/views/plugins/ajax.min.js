scutum.plugins.ajax={},scutum.plugins.ajax.init=function(){scutum.require(["mockjax","intercooler","handlebars","chancejs"],function(){scutum.plugins.ajax.clickToEdit(),scutum.plugins.ajax.lazyload(),scutum.plugins.ajax.clickToLoad(),scutum.plugins.ajax.tablerowDelete(),scutum.plugins.ajax.sortableList()},!1)},scutum.plugins.ajax.clickToEdit=function(){var s,t=(s={firstName:chance.first(),lastName:chance.last(),email:chance.email(),company:chance.company(),userActive:!0},{findUser:function(a){return s}}),o=$("#sc-contact-edit"),a=$("#sc-contact-edit-template").html(),e=t.findUser("1"),n=Handlebars.compile(a),c=n(e);o.html(c),Intercooler.processNodes(o),$.mockjax({url:"/contact/1/edit",responseTime:200,response:function(a){var s=t.findUser("1"),e=$("#sc-contact-edit-form").html(),n=Handlebars.compile(e);this.responseText=n(s),setTimeout(function(){scutum.forms.common.switches($("#user-status")),scutum.forms.common.inputs(o),Intercooler.processNodes(o)},300)}}),$.mockjax({url:"/contact/1",responseTime:200,response:function(a){var s=t.findUser("1"),e=scutum.helpers.parseParams(a.data);"PUT"===e._method&&(s.firstName=e.firstName,s.lastName=e.lastName,s.email=e.email,s.company=e.company,s.userActive="on"===e.userActive),this.responseText=n(s),Intercooler.processNodes(o)}})},scutum.plugins.ajax.lazyload=function(){var s=["alex-guillaume-769172-unsplash","avantgarde-concept-763896-unsplash","briana-tozour-756151-unsplash","casey-horner-768005-unsplash","ciaran-o-brien-769402-unsplash","daria-kopylova-766667-unsplash","eiliv-aceron-765897-unsplash","paula-brustur-766878-unsplash","pietro-mattia-764559-unsplash","rachel-park-366508-unsplash","ray-hennessy-763310-unsplash","rodion-kutsaev-760882-unsplash","san-fermin-pamplona-navarra-768251-unsplash","shane-young-768821-unsplash","steve-roe-763192-unsplash","urban-sanden-768851-unsplash","wynand-van-poortvliet-761831-unsplash"];$.mockjax({url:"/lazy-load",responseTime:1500,response:function(a){this.responseText='<img src="assets/img/photos/'+s[Math.floor(Math.random()*s.length)]+'_md.jpg" class="sc-round uk-height-medium" alt="">'}})},scutum.plugins.ajax.clickToLoad=function(){var o={contactsForPage:function(a,s){for(var e=[],n=s,t=0;t<5;t++)e.push({key:n+1,name:chance.name(),email:chance.email(),company:chance.company(),ssn:chance.ssn()}),n++;return e}},c=$("#sc-table-load"),a=$("#sc-table-load-template").html(),s=o.contactsForPage(1,0),r=Handlebars.compile(a);s.forEach(function(a){var s=r(a);c.append(s)}),c.attr("data-entries",c.children().length),$.mockjax({url:/\/contacts.*/,responseTime:800,response:function(a){var s=a.url.substring(a.url.lastIndexOf("?")),e=scutum.helpers.parseParams(s),n=parseInt(e.page),t=parseInt(c.attr("data-entries"));o.contactsForPage(n,t).forEach(function(a,s){var e=r(a);c.append(e)}),c.attr("data-entries",c.children().length)}})},scutum.plugins.ajax.tablerowDelete=function(){$(".sc-js-user-delete").on("click",function(){var a=$(this);UIkit.modal.confirm('<p class="uk-text-large">Are you sure?</p>',{escClose:!1}).then(function(){a.trigger("confirmed-by-user")},function(){console.log("Rejected.")})}),$.mockjax({url:/\/users\/.*/,headers:{"X-IC-Remove":"300ms"}})},scutum.plugins.ajax.sortableList=function(){$.mockjax({url:"/sortable-list",responseTime:750,response:function(a){!function(a){var s=[];a.forEach(function(a){s.push(a)}),console.log(s)}(scutum.helpers.parseParams(a.data)["sortable-list-items"]),UIkit.notification("New Order Saved.")}})};