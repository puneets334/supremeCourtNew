var $taskBoard=$("#sc-task-board");scutum.pages.taskBoard={},scutum.pages.taskBoard.init=function(){scutum.pages.taskBoard.listsDragDrop(),scutum.pages.taskBoard.cardsDragDrop(),scutum.pages.taskBoard.taskModal(),scutum.pages.taskBoard.list.shrink(),scutum.pages.taskBoard.list.expand()},scutum.pages.taskBoard.cardsDragDrop=function(){scutum.require(["dragula"],function(){for(var s=dragula($(".sc-task-list-cards").toArray()),a=s.containers,t=a.length,o=0;o<t;o++)$(a[o]).addClass("dragula dragula-vertical");s.on("drag",function(s,a){$(s).addClass("sc-mirror-el")}),s.on("dragend",function(s){$(s).removeClass("sc-mirror-el")}),s.on("drop",function(s,a,t,o){console.log(s),console.log(a),console.log(t)})})},scutum.pages.taskBoard.listsDragDrop=function(){scutum.require(["dragula"],function(){for(var s=dragula($(".sc-task-board").toArray(),{direction:"horizontal",moves:function(s,a,t){return $(t).closest(".dragula-handle-el").length}}),a=s.containers,t=a.length,o=0;o<t;o++)$(a[o]).addClass("dragula dragula-handle");s.on("drop",function(s,a,t,o){console.log(s),console.log(a),console.log(t)})})},scutum.pages.taskBoard.list={shrink:function(){$taskBoard.on("click",".sc-js-list-collapse",function(s){s.preventDefault();var a=$(this).closest(".sc-task-list");a.addClass("sc-task-list-collapsed"),scutum.helpers.hideDuringTransform(a)})},expand:function(){$taskBoard.on("click",".sc-js-list-expand",function(s){s.preventDefault();var a=$(this).closest(".sc-task-list");a.removeClass("sc-task-list-collapsed"),scutum.helpers.hideDuringTransform(a)})}},scutum.pages.taskBoard.taskModal=function(){scutum.require(["handlebars"],function(){var s=$("#sc-task-modal"),t=$("#sc-hb-task-modal"),a=[],o=UIkit.modal(s);scutum.helpers.ajax("data/pages/tasks.json","GET","json").then(function(s){a=s}).catch(function(s){throw console.log("There has been a error: "+s.message),s}),scutum.$body.on("click",".sc-task-card",function(){var s=$(this).attr("data-task-id");s&&scutum.helpers.findObjectByKey(a,"id",parseInt(s)).then(function(s,a){s&&t.one("render.handlebars",function(s,a){o.show()}).hbRender("task-modal",{title:s.title,date:s.date,list:s.list_long,description:s.description,tags:s.tags,assignee:s.assignee,progress:s.progress})})})},!1)};